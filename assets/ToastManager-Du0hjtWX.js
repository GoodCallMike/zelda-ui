import{j as e}from"./jsx-runtime-Cihbe4BQ.js";import{r}from"./iframe-CzqNFs5z.js";import{I as k,A as y,d as C,e as P,X as N}from"./XIcon-CZdcAhEp.js";import{B as h}from"./Button-D47seXth.js";import{c as g}from"./index-BDV_RS0N.js";import{T as j}from"./Typography-9lRHdsZv.js";import{r as E}from"./index-BkXu0jZL.js";const I="_toast_8wkr7_2",q="_entering_8wkr7_21",R="_magicalEnter_8wkr7_1",B="_exiting_8wkr7_25",A="_magicalExit_8wkr7_1",V="_success_8wkr7_30",z="_error_8wkr7_40",S="_warning_8wkr7_49",X="_info_8wkr7_59",$="_icon_8wkr7_69",D="_message_8wkr7_90",M="_closeButton_8wkr7_96",W="_progressBar_8wkr7_110",F="_countdown_8wkr7_1",G="_successProgress_8wkr7_120",H="_errorProgress_8wkr7_128",J="_warningProgress_8wkr7_132",K="_infoProgress_8wkr7_140",n={toast:I,entering:q,magicalEnter:R,exiting:B,magicalExit:A,success:V,error:z,warning:S,info:X,icon:$,message:D,closeButton:M,progressBar:W,countdown:F,successProgress:G,errorProgress:H,warningProgress:J,infoProgress:K},L={success:P,error:C,warning:y,info:k},v=({message:s,type:a="info",duration:o=5e3,visible:c=!0,onClose:m,actions:u,className:l,testId:_})=>{const[d,t]=r.useState(!1),[f,p]=r.useState(!0),w=L[a],T=r.useRef(m);T.current=m;const x=r.useCallback(()=>{t(!0),T.current?.()},[]);return r.useEffect(()=>{const i=setTimeout(()=>{p(!1)},100);return()=>clearTimeout(i)},[]),r.useEffect(()=>{if(c&&o>0){const i=setTimeout(()=>{x()},o);return()=>clearTimeout(i)}},[c,o,x]),c?e.jsxs("div",{className:g("pointer-events-auto w-96",n.toast,n[a],f&&n.entering,d&&n.exiting,l),"data-testid":_,children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:g("w-5 h-5 flex-shrink-0",n.icon)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx(j,{variant:"body",className:n.message,children:s})}),e.jsx(h,{variant:"text",size:"small",onClick:x,className:n.closeButton,"aria-label":"Close notification",children:e.jsx(N,{className:"w-4 h-4"})})]}),u&&u.length>0&&e.jsx("div",{className:"flex gap-2 mt-3 ml-8",children:u.map(i=>e.jsx(h,{variant:"text",size:"small",onClick:i.onClick,className:"text-xs",children:i.label},i.label))})]}),o>0&&e.jsx("div",{className:g(n.progressBar,n[`${a}Progress`]),style:{animationDuration:`${o}ms`}})]}):null};v.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{message:{required:!0,tsType:{name:"string"},description:"Toast message"},type:{required:!1,tsType:{name:"union",raw:"'success' | 'error' | 'warning' | 'info'",elements:[{name:"literal",value:"'success'"},{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'info'"}]},description:"Toast type",defaultValue:{value:"'info'",computed:!1}},position:{required:!1,tsType:{name:"union",raw:`| 'top-right'
| 'top-left'
| 'bottom-right'
| 'bottom-left'
| 'top-center'
| 'bottom-center'`,elements:[{name:"literal",value:"'top-right'"},{name:"literal",value:"'top-left'"},{name:"literal",value:"'bottom-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'top-center'"},{name:"literal",value:"'bottom-center'"}]},description:"Toast position"},duration:{required:!1,tsType:{name:"number"},description:"Auto dismiss duration in ms (0 to disable)",defaultValue:{value:"5000",computed:!1}},visible:{required:!1,tsType:{name:"boolean"},description:"Whether toast is visible",defaultValue:{value:"true",computed:!1}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Close handler"},actions:{required:!1,tsType:{name:"Array",elements:[{name:"ToastAction"}],raw:"ToastAction[]"},description:"Action buttons"},className:{required:!1,tsType:{name:"string"},description:"Custom className"},testId:{required:!1,tsType:{name:"string"},description:"Test identifier"}}};const O=({position:s="top-right",children:a})=>{const o=e.jsx("div",{className:g("fixed z-toast pointer-events-none p-4 flex gap-3",s==="top-right"&&"top-0 right-0 flex-col items-end",s==="top-left"&&"top-0 left-0 flex-col items-start",s==="bottom-right"&&"bottom-0 right-0 flex-col-reverse items-end",s==="bottom-left"&&"bottom-0 left-0 flex-col-reverse items-start",s==="top-center"&&"top-0 left-1/2 -translate-x-1/2 flex-col items-center",s==="bottom-center"&&"bottom-0 left-1/2 -translate-x-1/2 flex-col-reverse items-center"),children:a});return E.createPortal(o,document.body)},b=r.createContext(null),oe=()=>{const s=r.useContext(b);if(!s)throw new Error("useToast must be used within a ToastProvider");return s},Q=({children:s,position:a="top-right",maxToasts:o=5})=>{const[c,m]=r.useState([]),u=r.useRef(1),l=r.useRef(new Map),_=r.useCallback(t=>{const f=`toast-${u.current++}`;m(p=>[...p,{...t,id:f}].slice(-o))},[o]),d=r.useCallback(t=>{m(f=>f.filter(p=>p.id!==t)),l.current.delete(t)},[]);return e.jsxs(b.Provider,{value:{showToast:_,hideToast:d},children:[s,e.jsx(O,{position:a,children:c.map(t=>(l.current.has(t.id)||l.current.set(t.id,()=>d(t.id)),e.jsx(v,{...t,visible:!0,onClose:l.current.get(t.id)||(()=>d(t.id))},t.id)))})]})};Q.__docgenInfo={description:"",methods:[],displayName:"ToastProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},position:{required:!1,tsType:{name:"ToastProps['position']",raw:"ToastProps['position']"},description:"",defaultValue:{value:"'top-right'",computed:!1}},maxToasts:{required:!1,tsType:{name:"number"},description:"Maximum number of toasts to show (default: 5)",defaultValue:{value:"5",computed:!1}}}};export{v as T,O as a,Q as b,oe as u};

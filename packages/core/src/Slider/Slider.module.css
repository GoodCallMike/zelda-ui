/* Track */
.track {
  background: var(--gray-300);
  border: 2px solid var(--gray-400);
  box-shadow: 
    inset 1px 1px 0 color-mix(in srgb, var(--gray-500) 30%, transparent),
    inset -1px -1px 0 color-mix(in srgb, var(--white) 50%, transparent);
}

/* Filled track */
.filledTrack {
  background: linear-gradient(90deg, 
    var(--triforce-400) 0%, 
    color-mix(in srgb, var(--triforce-500) 85%, var(--rupee-400) 15%) 50%, 
    var(--triforce-600) 100%
  );
  border: 2px solid var(--triforce-700);
  box-shadow: 
    inset 1px 1px 0 var(--triforce-200),
    inset -1px -1px 0 var(--triforce-800),
    0 0 4px color-mix(in srgb, var(--triforce-400) 20%, transparent);
}

/* Thumb - Gem/Rupee shaped */
.thumb {
  background: linear-gradient(135deg, 
    var(--triforce-300) 0%, 
    color-mix(in srgb, var(--triforce-400) 90%, var(--rupee-400) 10%) 50%, 
    var(--triforce-500) 100%
  );
  border: 3px solid var(--triforce-700);
  border-radius: 50%;
  transform: translate(-50%, -10%);
  box-shadow: 
    inset 2px 2px 0 var(--triforce-100),
    inset -2px -2px 0 var(--triforce-800),
    3px 3px 0 var(--triforce-900),
    0 0 6px color-mix(in srgb, var(--triforce-400) 25%, transparent),
    0 0 12px color-mix(in srgb, var(--rupee-400) 8%, transparent);
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.thumb:hover {
  transform: scale(1.1) translate(-50%, -10%);
  box-shadow: 
    inset 2px 2px 0 var(--triforce-100),
    inset -2px -2px 0 var(--triforce-800),
    2px 2px 0 var(--triforce-900),
    0 0 8px color-mix(in srgb, var(--triforce-400) 30%, transparent),
    0 0 16px color-mix(in srgb, var(--rupee-400) 12%, transparent);
}

.thumb:focus-visible {
  outline: 2px solid var(--triforce-400);
  outline-offset: 2px;
}

.thumbActive {
  transform: scale(1.15) translate(-50%, -10%);
  animation: magicalGrab 0.3s ease-out;
  box-shadow: 
    inset 2px 2px 0 var(--triforce-100),
    inset -2px -2px 0 var(--triforce-800),
    2px 2px 0 var(--triforce-900),
    0 0 12px color-mix(in srgb, var(--triforce-400) 40%, transparent),
    0 0 20px color-mix(in srgb, var(--rupee-400) 15%, transparent);
}

@keyframes magicalGrab {
  0% {
    box-shadow: 
      inset 2px 2px 0 var(--triforce-100),
      inset -2px -2px 0 var(--triforce-800),
      2px 2px 0 var(--triforce-900),
      0 0 8px color-mix(in srgb, var(--triforce-400) 30%, transparent),
      0 0 16px color-mix(in srgb, var(--rupee-400) 12%, transparent);
  }
  25% {
    box-shadow: 
      inset 2px 2px 0 var(--triforce-100),
      inset -2px -2px 0 var(--triforce-800),
      2px 2px 0 var(--triforce-900),
      0 0 15px color-mix(in srgb, var(--triforce-400) 45%, transparent),
      0 0 22px color-mix(in srgb, var(--rupee-400) 18%, transparent);
  }
  50% {
    box-shadow: 
      inset 2px 2px 0 var(--triforce-100),
      inset -2px -2px 0 var(--triforce-800),
      2px 2px 0 var(--triforce-900),
      0 0 20px color-mix(in srgb, var(--triforce-400) 60%, transparent),
      0 0 30px color-mix(in srgb, var(--rupee-400) 25%, transparent);
  }
  75% {
    box-shadow: 
      inset 2px 2px 0 var(--triforce-100),
      inset -2px -2px 0 var(--triforce-800),
      2px 2px 0 var(--triforce-900),
      0 0 16px color-mix(in srgb, var(--triforce-400) 50%, transparent),
      0 0 24px color-mix(in srgb, var(--rupee-400) 20%, transparent);
  }
  100% {
    box-shadow: 
      inset 2px 2px 0 var(--triforce-100),
      inset -2px -2px 0 var(--triforce-800),
      2px 2px 0 var(--triforce-900),
      0 0 12px color-mix(in srgb, var(--triforce-400) 40%, transparent),
      0 0 20px color-mix(in srgb, var(--rupee-400) 15%, transparent);
  }
}

/* Dark mode */
:global(.dark) .track {
  background: var(--gray-700);
  border-color: var(--gray-600);
  box-shadow: 
    inset 1px 1px 0 color-mix(in srgb, var(--gray-800) 50%, transparent),
    inset -1px -1px 0 color-mix(in srgb, var(--gray-500) 30%, transparent);
}

:global(.dark) .filledTrack {
  background: linear-gradient(90deg, 
    #6b46c1 0%, 
    color-mix(in srgb, #553c9a 85%, #22c55e 15%) 50%, 
    #44337a 100%
  );
  border-color: #312e81;
  box-shadow: 
    inset 1px 1px 0 #a78bfa,
    inset -1px -1px 0 #1e1b4b,
    0 0 8px color-mix(in srgb, #6b46c1 30%, transparent);
}

:global(.dark) .thumb {
  background: linear-gradient(135deg, 
    #7c3aed 0%, 
    color-mix(in srgb, #6b46c1 90%, #22c55e 10%) 50%, 
    #553c9a 100%
  );
  border-color: #312e81;
  box-shadow: 
    inset 2px 2px 0 #a78bfa,
    inset -2px -2px 0 #1e1b4b,
    3px 3px 0 var(--black),
    0 0 10px color-mix(in srgb, #6b46c1 40%, transparent),
    0 0 20px color-mix(in srgb, #22c55e 10%, transparent);
}

:global(.dark) .thumb:hover {
  box-shadow: 
    inset 2px 2px 0 #a78bfa,
    inset -2px -2px 0 #1e1b4b,
    2px 2px 0 var(--black),
    0 0 15px color-mix(in srgb, #6b46c1 50%, transparent),
    0 0 25px color-mix(in srgb, #22c55e 15%, transparent);
}

:global(.dark) .thumb:focus-visible {
  outline-color: #7c3aed;
}

:global(.dark) .thumbActive {
  box-shadow: 
    inset 2px 2px 0 #a78bfa,
    inset -2px -2px 0 #1e1b4b,
    2px 2px 0 var(--black),
    0 0 20px color-mix(in srgb, #6b46c1 60%, transparent),
    0 0 30px color-mix(in srgb, #22c55e 20%, transparent);
}